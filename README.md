# Онлайн версия пиксельного скролл-шутера.

## Описание проекта
Проект представляет из себя онлайн версию игры в жанре Shoot em up, написанную ранее(https://github.com/ilushenka/Shoot-em-up-game/tree/main)

## Функционал проекта
-Создание автономного сервера, не связанного с клиентами
-Подключение клиентов к серверу
-Передача данных от клиентов к серверу для их дальнейшей обработки
-Ответ от сервера клиентам с информацией, по которой они смогут составить интерфейс игрового процесса

## Архитектура
Основными классами в коде являются:

1. **Класс Server**
Отвечает за весь функционал сервера.
Атрибуты: 
    Host, port - переменные для хранения адреса сервера
    socket - сокет сервера

-Метод `listen`: Ожидает подключения двух клиентов, затем создаёт новую нить для принятия, обработки и передачи данных(после чего продолжает ожидание двух новых клиентов);
-Метод `handle_client`: Отвечает за принятие данных от клиентов, их дальнейшую обработку, работу игрового процесса, и за отправку обновлённых данных клиентам
-Метод `insert_recv_data`: Принимает полученные с клиентов данные в JSON формате, расшифровывает их и с их помощью обновляет положение игроков, а также создаёт новые пули
-Метод `update_resp_data`: После пройдённого тика игрового процесса преобразует данные о положении и прочей необходимой информации о всех спрайтах в формат, удобный для преобразования в JSON формат
-Метод `game_update`: Запускает игровой процесс на тик

2. **Класс Client**
Отвечает за клиента и весь его функционал.
Атрибуты:
    socket - сокет клиента
    player - спрайт игрока, за которого играет клиент
    data - информация о всех остальных спрайтов для дальнейшей отрисовки
-Метод `send`: Отправляет основную информацию об игроке, которым управляет клиент, на сервер.
-Метод `recv`: Принимает от сервера обновлённую информацию об игроке, которым управляет клиент, и об остальных спрайтах.
-Метод `decode_recv_data`: Расшифровывает полученные от сервера данные, обновляет статистику игроков, заполняет переменную data информацией о положении текстур остальных спрайтов для дальнейшей отрисовки

3. **Класс Work_with_data**
Класс из вспомогательных функций для работы с данными
-Метод `set_main_player_data`: Создаёт лист из датасетов, содержащий информацию об игроке, за которого играет клиент, и об его пулях.
-Метод `set_server_data`: Создаёт лист из датасетов, заполненный актуальной информацией о всех спрайтах


4. **Датакласс Sprites_data**
Датакласс, содержащий самую важную информацию о спрайтах(для дальнейшего наследования от него)
Атрибуты:
    name - название спрайта
    x - координата x спрайта
    y - координата y спрайта

5. **Датакласс Mobs_data**
Датакласс для хранения информации о мобах(наследуется от класса Sprites_data)
Атрибуты:
    side - направление движения(в случае пуль - угол отклонения от вертикали)
    bullet_speed - скорость пуль

6. **Датакласс Main_player_data**
Датакласс для хранения информации об игроке(наследуется от класса Mobs_data)
Атрибуты:
    health - хп игрока
    is_invincible - является ли игрок неуязвимым
    invincible_animation - номер анимации(при неуязвимости)
    invincible_time - время с момента начала неуязвимости
    shoot_mode - режим выстрелов
    shoot_delay - задержка между выстрелами
    bonus_time - время с момента взятия бонусов

7. **Датакласс Second_player_data**
Датакласс для хранения информации о втором игроке(наследуется от класса Mobs_Data)
Атрибуты:
    health - хп игрока

8. **Датакласс Effects_data**
Датакласс для хранения информации об эффектах и бонусах(наследуется от класса Sprites)
Атрибуты:
    anim_num - вспомогательный индекс для проигрывания анимации

